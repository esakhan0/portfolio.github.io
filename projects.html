<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>Projects | Esa Aslam Khan</title>

  <!-- Stop white flash + hide until CSS loads + background + animations -->
  <style>
    html,body{margin:0;background:#0b0c10}
    body.preload *{visibility:hidden}

    /* Background layer (fixed + always visible) */
    .bg-fixed{
      position:fixed; inset:0; z-index:0; pointer-events:none;
      background:
        linear-gradient(rgba(255,255,255,.06) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,.06) 1px, transparent 1px),
        radial-gradient(600px 400px at 75% 10%, rgba(139,92,246,.25), transparent 55%),
        radial-gradient(600px 400px at 10% 20%, rgba(59,130,246,.12), transparent 55%),
        #0b0c10;
      background-size:38px 38px, 38px 38px, auto, auto, auto;
      background-position:center, center, center, center, center;
    }

    /* Content above background */
    .wrap{position:relative; z-index:1}

    /* Staggered fade in (one-by-one) */
    .page-animate{ --delay-step: 160ms; }
    .fade-item{
      opacity:0;
      transform: translateY(-16px);
      animation: fadeDown 1.15s cubic-bezier(.2,.8,.2,1) forwards;
      animation-delay: calc(var(--i, 0) * var(--delay-step));
      will-change: transform, opacity;
    }
    @keyframes fadeDown{ to{opacity:1; transform:translateY(0)} }

    @media (prefers-reduced-motion: reduce){
      .fade-item{animation:none !important; opacity:1 !important; transform:none !important;}
    }
  </style>

  <!-- Version + CSS loader -->
  <script src="/js/version.js"></script>
  <script>
    (function () {
      const v = window.SITE_VERSION || "1";
      const css = document.createElement("link");
      css.rel = "stylesheet";
      css.href = `/css/style.css?v=${v}`;
      css.onload = () => document.body.classList.remove("preload");
      document.head.appendChild(css);
      setTimeout(() => document.body.classList.remove("preload"), 1200);
    })();
  </script>
</head>

<body class="preload">
  <div class="bg-fixed" aria-hidden="true"></div>

  <div class="wrap page-animate">
    <!-- NAV -->
    <header class="nav fade-item">
      <a class="brand" href="/" aria-label="Go to home">
        <span class="icon">ðŸ’»</span>
        <span>Esa Aslam Khan</span>
      </a>

      <nav class="navlinks" aria-label="Primary navigation">
        <a href="/">Home</a>
        <a href="/about">About</a>
        <a href="/projects" class="active">Projects</a>
		<a href="/posts">Blog</a>
        <a href="/certifications">Certifications</a>
      </nav>
    </header>

    <!-- HERO -->
    <section class="pageHero fade-item">
      <span class="pill">Projects</span>
      <h1>Projects</h1>
      <p class="sub">A collection of projects Iâ€™ve worked on!</p>
    </section>

    <!-- PROJECTS LIST -->
    <section class="section fade-item">
      <div class="sectionTop">
        <div>
          <h2>All projects</h2>
          <p>Newest first</p>
        </div>
      </div>

      <div class="list" id="allProjects"></div>

      <noscript>
        <div class="note">JavaScript is required to display projects.</div>
      </noscript>
    </section>

    <!-- FOOTER -->
    <footer class="footer fade-item" id="contact">
      <div>Â© <span id="year"></span> Esa Aslam Khan</div>
      <div class="footerLinks">
        <a href="https://github.com/" target="_blank" rel="noopener">GitHub</a>
        <a href="https://linkedin.com/" target="_blank" rel="noopener">LinkedIn</a>
        <a href="mailto:channelkhan0@gmail.com">Email</a>
      </div>
    </footer>
  </div>

  <!-- Data + logic -->
  <script>
    const v = window.SITE_VERSION || "1";
    document.getElementById("year").textContent = new Date().getFullYear();

    // Auto-stagger order
    document.querySelectorAll(".fade-item").forEach((el, i) => el.style.setProperty("--i", i));

    // Data (keep posts.js if your main.js expects it globally)
    const posts = document.createElement("script");
    posts.src = `/data/posts.js?v=${v}`;
    document.body.appendChild(posts);

    const projects = document.createElement("script");
    projects.src = `/data/projects.js?v=${v}`;
    document.body.appendChild(projects);

    // Main logic (renders #allProjects)
    const main = document.createElement("script");
    main.src = `/js/main.js?v=${v}`;
    document.body.appendChild(main);
  </script>
</body>
</html>
